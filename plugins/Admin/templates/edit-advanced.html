{% extends 'index.html' %}

{% block title %}Edit{% endblock %}

{% block content %}

<script type="text/javascript">
	function Delete() {
		document.body.innerHTML += '<form id="delete" action="../" method="post"><input type="hidden" name="delpage" value="{{ filename }}"></form>';
		document.getElementById("delete").submit();
	}
</script>

<div class="container">
	<form action="{{ urldepth }}admin/pages" method="post" name="save">
		<div class="form-group">
			<div class="row">
				<div class="col-md-9">
					<div class="input-group">
						<span class="input-group-addon">content/</span>
						<input value="{{ filename }}" type="text" class="form-control" name="filename" autocomplete="off">
						<span class="input-group-addon"><a target="_blank" href="{{ base }}{{ link }}"><i class="fa fa-eye" aria-hidden="true"></i> View</a></span>
					</div>
				</div>
				<div class="col-md-3">
					<div class="input-group">
						<input type="submit" class="btn btn-success" role="button" name="save" value="save">
						<span style="padding-left: 5px;"></span>
						<input type="submit" class="btn btn-primary" role="button" name="cancel" value="cancel">
						<span style="padding-left: 5px;"></span>
						<input type="button" class="btn btn-danger" onclick="Delete()" value="delete">
					</div>
				</div>
			</div>
		</div>
		<div class="form-group header-editor">
			<label for="header">Header (YAML):</label>
			<textarea name="header" class="form-control" rows="5" id="header" autocomplete="off" style="font-family: monospace;">{{ header }}</textarea>
		</div>
		<div class="form-group content-editor">
			<label for="content">Content (Markdown):</label>
			<textarea name="content" class="form-control" rows="20" id="content" autocomplete="off" style="font-family: monospace;">{{ content }}</textarea>
		</div>
		<div class="input-group">
			<input value="{{ filename }}" type="hidden" name="oldfilename">
		</div>
	</form>
</div>

{% endblock %}