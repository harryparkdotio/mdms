{% extends 'index.html' %}

{% block title %}Edit{% endblock %}

{% block content %}

<div class="container">
	<form action="{{ urldepth }}admin/partials" method="post" name="savepartial">
		<div class="form-group">
			<div class="input-group">
				<span class="input-group-addon">partials/</span>
				<input value="{{ filename }}" type="text" class="form-control" name="filename" autocomplete="off">
			</div>
		</div>
		<div class="form-group content-editor">
			<label for="content">Content (HTML):</label>
			<textarea name="content" class="form-control" rows="20" id="content" autocomplete="off">{{ content }}</textarea>
		</div>
		<div class="input-group">
			<input value="{{ filename }}" type="hidden" name="oldfilename">
			<input type="submit" class="form-control btn btn-primary" name="savepartial" value="savepartial">
		</div>
	</form>
</div>

{% endblock %}

{% block scripts %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script src="{{ urldepth }}assets/bootstrap/js/bootstrap.js"></script>
<script src="{{ urldepth }}assets/codemirror/lib/codemirror.js"></script>
<script src="{{ urldepth }}assets/codemirror/mode/htmlmixed/htmlmixed.js"></script>
<script>
	CodeMirror.fromTextArea($('#content')[0], {
		mode: 'htmlmixed',
		theme: 'neat',
		lineWrapping: true
	});
</script>
{% endblock %}